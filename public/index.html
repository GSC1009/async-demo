<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <button onclick="getData()">getData</button>
  </body>
  <script>
    function fetchData(api) {
      let url = 'http://localhost:3000'
      fetch(url + api, {
        method: 'GET',
        headers: {
          'Content-Type': 'application/json',
        },
      })
        .then((res) => {
          return res.json()
        })
        .then((json) => {
          console.log(json)
          return json
        })
    }
    // async function getData() {
    //   let id = await fetchData('/student')
    //   let score = await fetchData('/score')
    //   let rank = await fetchData('/rank')
    // }

    // function fetchData(api) {
    //   let url = 'http://localhost:3000'
    //   return fetch(url + api, {
    //     method: 'GET',
    //     headers: {
    //       'Content-Type': 'application/json',
    //     },
    //   })
    // }
    // function getData() {
    //   fetchData('/student')
    //     .then((res) => fetchData('/score'))
    //     .then((res) => fetchData('/rank'))
    //     .catch((err) => alert(err))
    // }

    function* getdata() {
      let id = yield fetchData('/student')
      let score = yield fetchData('/score')
      let rank = yield fetchData('/rank')
    }
    function getData() {
      let it = getdata()
      let id = it.next()
      let score = it.next()
      let rank = it.next()
    }
  </script>
</html>
